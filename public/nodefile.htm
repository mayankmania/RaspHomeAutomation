<html>

<head>
    <script src="jquery-3.1.1.js" type="text/javascript">
    </script>
    <script type="text/javascript">

    $(document).ready(function(){
        setLedStatus();
    });

    function ToggleLed() 
    { 
        var state = ""; 
        if (currentLedStatus == "OFF") 
        { 
            state = "ON"; 
        } 
        else if(currentLedStatus == "ON") 
        { 
            state = "OFF"; 
        }

        $.post( "/")
        .done(function(result) {
                if (result == "OFF") 
                { 
                    $("#futureStatus").html("ON");
                    $("#currentStatus").html("OFF"); 
                } 
                else if (result == "ON") { 
                    $("#futureStatus").html("OFF"); 
                    $("#currentStatus").html("ON");
                } 
                currentLedStatus = result;
        });
    }

    function setLedStatus()
    {
        $.get( "/getLedStatus")
        .done(function(data) {
                var result =  parseInt(data); 
                if (result == "OFF" || result=="0" || result=="-1") 
                { 
                    $("#futureStatus").html("ON");
                    $("#currentStatus").html("OFF");
                    currentLedStatus = "OFF"; 
                } 
                else if (result == "ON" || result=="1") { 
                    $("#futureStatus").html("OFF"); 
                    $("#currentStatus").html("ON");
                    currentLedStatus = "ON";
                } 
                
        });
    }
    </script>
</head>

<body>
    <div>
        <button onclick="ToggleLed();">
        LED is <span id="currentStatus">OFF</span>, Click to put it <span id="futureStatus">ON</span>
    </button>
    </div>
</body>

</html>